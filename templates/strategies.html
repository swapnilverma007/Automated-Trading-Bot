{% extends "base.html" %}
{% load static %}
{% block title %}Trading Strategies{% endblock title %}

{% block head %}
<style>
  .strategy-card {
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
    border-radius: 1rem;
    min-height: 320px;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
  
  .strategy-card:hover {
    transform: translateY(-15px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
  
  .strategy-card:hover .card-icon {
    transform: scale(1.1);
  }
  
  .strategy-card:hover .explore-arrow {
    transform: translateX(5px);
  }
  
  .card-icon {
    transition: all 0.4s ease;
  }
  
  .explore-arrow {
    transition: all 0.3s ease;
  }
  
  .strategy-card:hover .card-pattern {
    transform: scale(1.3) rotate(10deg);
    opacity: 0.15;
  }
  
  .card-pattern {
    position: absolute;
    right: -80px;
    top: -80px;
    width: 300px;
    height: 300px;
    transition: all 0.8s ease;
    opacity: 0.1;
  }
  
  .badge-label {
    transition: all 0.3s ease;
  }
  
  .strategy-card:hover .badge-label {
    transform: translateY(-3px);
  }
  
  .shimmer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      rgba(255,255,255,0) 0%,
      rgba(255,255,255,0.2) 50%,
      rgba(255,255,255,0) 100%
    );
    transform: translateX(-100%);
    animation: shimmer 3s infinite;
    pointer-events: none;
  }
  
  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }
  
  .strategy-card:hover .shimmer {
    animation: shimmer 1.5s infinite;
  }
</style>
{% endblock head %}

{% block body %}
<div class="min-h-screen bg-gradient-to-br from-blue-50 to-white py-10">
  <div class="container mx-auto px-4">
    <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-700 mb-6 text-center">Trading Strategies</h1>
    <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">Explore our collection of advanced algorithmic trading strategies designed to identify profitable opportunities in cryptocurrency markets.</p>
    
    <!-- Strategy Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-10 max-w-5xl mx-auto">
      {% for strategy in strategies %}
      <div class="strategy-card bg-white cursor-pointer" data-strategy-id="{{ strategy.id }}">
          <!-- Card Shine Effect -->
          <div class="shimmer"></div>
          
          <!-- Card Background Pattern -->
          <div class="card-pattern">
            {% if strategy.icon == 'brain' %}
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M4.5 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM14.25 8.625a3.375 3.375 0 116.75 0 3.375 3.375 0 01-6.75 0zM1.5 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM17.25 19.128l-.001.144a2.25 2.25 0 01-.233.96 10.088 10.088 0 005.06-1.01.75.75 0 00.42-.643 4.875 4.875 0 00-6.957-4.611 8.586 8.586 0 011.71 5.157v.003z" />
              </svg>
            {% else %}
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75zM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 01-1.875-1.875V8.625zM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 013 19.875v-6.75z" />
              </svg>
            {% endif %}
          </div>
          
          <!-- Card Header -->
          <div class="bg-gradient-to-r {{ strategy.color }} p-6">
            <div class="flex justify-between items-start">
              <div>
                <h2 class="text-2xl font-bold text-white mb-2">{{ strategy.name }}</h2>
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-white/20 text-white">
                  {{ strategy.category }}
                </span>
              </div>
              <div class="card-icon bg-white/20 p-3 rounded-lg">
                {% if strategy.icon == 'brain' %}
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21a48.25 48.25 0 01-8.135-.687c-1.718-.293-2.3-2.379-1.067-3.61L5 14.5" />
                  </svg>
                {% else %}
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605" />
                  </svg>
                {% endif %}
              </div>
            </div>
          </div>
          
          <!-- Card Body -->
          <div class="p-6">
            <p class="text-gray-600 mb-6">{{ strategy.description }}</p>
            
            <!-- Strategy Detail - Best For -->
            <div class="badge-label bg-blue-50 p-3 rounded-lg">
              <span class="text-xs text-gray-500 block">Best For</span>
              <span class="text-sm font-medium text-blue-800">{{ strategy.best_for }}</span>
            </div>
            
            <!-- Action Button -->
            <div class="flex justify-end mt-6">
              <a href="#" class="flex items-center text-sm font-medium text-blue-600 hover:text-blue-800 transition-colors">
                <span>Explore Strategy</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1 explore-arrow" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                </svg>
              </a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
    
    <!-- Additional Strategy Card -->
    <div class="mt-16 max-w-5xl mx-auto">
      <div class="strategy-card bg-gradient-to-r from-gray-800 to-gray-900 text-white cursor-pointer">
        <div class="p-8 text-center">
          <div class="bg-white/10 rounded-full p-4 inline-flex mb-6">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4.5v15m7.5-7.5h-15" />
            </svg>
          </div>
          
          <h2 class="text-2xl font-bold mb-2">Create Custom Strategy</h2>
          <p class="text-gray-300 mb-6">Have a trading strategy in mind? Build and backtest your own custom strategy using our powerful tools.</p>
          
          <button class="bg-white text-gray-900 hover:bg-blue-50 font-medium px-6 py-3 rounded-lg transition-colors inline-flex items-center">
            <span>Coming Soon</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Strategy Tools Section -->
    <div class="mt-20">
      <h2 class="text-3xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-700 mb-10">Strategy Tools & Resources</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
        <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow">
          <div class="bg-blue-50 rounded-xl p-4 inline-flex mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">Strategy Documentation</h3>
          <p class="text-gray-600">Comprehensive guides and documentation to help you understand and implement each trading strategy.</p>
        </div>
        
        <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow">
          <div class="bg-blue-50 rounded-xl p-4 inline-flex mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.39 48.39 0 01-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 01-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 00-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 01-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 00.657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 01-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 005.427-.63 48.05 48.05 0 00.582-4.717.532.532 0 00-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 00.658-.663 48.422 48.422 0 00-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 01-.61-.58v0z" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">Backtest Environment</h3>
          <p class="text-gray-600">Test your strategies against historical data to evaluate performance before deploying with real capital.</p>
        </div>
        
        <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow">
          <div class="bg-blue-50 rounded-xl p-4 inline-flex mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">Template Library</h3>
          <p class="text-gray-600">Access a growing collection of strategy templates that can be customized to fit your trading style.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Add click event to strategy cards
    const strategyCards = document.querySelectorAll('.strategy-card');
    strategyCards.forEach(card => {
      card.addEventListener('click', function() {
        const strategyId = card.getAttribute('data-strategy-id');
        
        // Visual feedback on click
        card.classList.add('scale-95');
        setTimeout(() => card.classList.remove('scale-95'), 150);
        
        // Handle different strategies
        if (strategyId === 'ma') {
          window.location.href = "{% url 'ma_backtest' %}";
        } else if (strategyId === 'lstm') {
          window.location.href = "{% url 'lstm_predict' %}";
        }
      });
    });
  });
</script>
{% endblock body %}